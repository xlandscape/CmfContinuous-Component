{"code": "\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar p = require(\"core/properties\");\nvar widget_1 = require(\"models/widgets/widget\");\nvar FileInputView = /** @class */ (function (_super) {\n    __extends(FileInputView, _super);\n    function FileInputView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FileInputView.prototype.initialize = function (options) {\n        _super.prototype.initialize.call(this, options);\n        this.render();\n    };\n    FileInputView.prototype.connect_signals = function () {\n        var _this = this;\n        _super.prototype.connect_signals.call(this);\n        this.connect(this.model.change, function () { return _this.render(); });\n        this.connect(this.model.properties.value.change, function () { return _this.render(); });\n        this.connect(this.model.properties.width.change, function () { return _this.render(); });\n    };\n    FileInputView.prototype.render = function () {\n        var _this = this;\n        if (this.dialogEl) {\n            return;\n        }\n        this.dialogEl = document.createElement('input');\n        this.dialogEl.type = \"file\";\n        this.dialogEl.multiple = false;\n        this.dialogEl.style = \"width:{this.model.width}px\";\n        this.dialogEl.onchange = function (e) { return _this.load_file(e); };\n        this.el.appendChild(this.dialogEl);\n    };\n    FileInputView.prototype.load_file = function (e) {\n        var _this = this;\n        var reader = new FileReader();\n        reader.onload = function (e) { return _this.set_value(e); };\n        reader.readAsDataURL(e.target.files[0]);\n    };\n    FileInputView.prototype.set_value = function (e) {\n        this.model.value = e.target.result;\n    };\n    return FileInputView;\n}(widget_1.WidgetView));\nexports.FileInputView = FileInputView;\nvar FileInput = /** @class */ (function (_super) {\n    __extends(FileInput, _super);\n    function FileInput(attrs) {\n        return _super.call(this, attrs) || this;\n    }\n    FileInput.initClass = function () {\n        this.prototype.type = \"FileInput\";\n        this.prototype.default_view = FileInputView;\n        this.define({\n            value: [p.Any, ''],\n        });\n    };\n    return FileInput;\n}(widget_1.Widget));\nexports.FileInput = FileInput;\nFileInput.initClass();\n", "deps": ["core/properties", "models/widgets/widget"], "hash": "3c3e42b1bcb62e2f1651912c2f78cc7333cf75b20495b157bc1fb3bfeeb8c8cd"}